<!doctype html>
<html lang="ko">
<head>
  <title>SE 자가진단 KIT</title>
  <meta charset="utf-8">
  <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta content="blendTrans(Duration=0.0)" http-equiv="Page-Enter" />
  <meta content="blendTrans(Duration=0.0)" http-equiv="Page-Exit" /> 
  </head> 
<script type="text/javascript">
$(document).ready(function() { 
 
}) ;



function fmBack1(){
	
	document.getElementById('stepback1').submit();
}


function fmCheck1(){
	  if(fnMemberValidation1() == false) return false;
	  
	    document.getElementById('stepForm1').submit();
	 	
	//	fmform();
	 }
//	function fmform(){ 
//	   document.getElementById('stepforward').submit(); 
//}  

function fnMemberValidation1(){ 
	  
	  var chk_radio1 = document.getElementsByName('KPI_FORM1');
	  var chk_radio2 = document.getElementsByName('KPI_FORM2');
	  
	  var sel_type = null;
	  var sel_type1 = null;
	  
		for(var i=0;i<chk_radio1.length;i++){

			if(chk_radio1[i].checked == true){ 

				sel_type = chk_radio1[i].value;

			}

		}
		for(var i=0;i<chk_radio2.length;i++){

			if(chk_radio2[i].checked == true){ 

				sel_type1 = chk_radio2[i].value;

			}

		}
		if(sel_type == null){

          alert("사회적 가치 추구 여부를 선택하세요."); 

		return false;

		}
		if(sel_type1 == null){

          alert("사회적 성과 평가체제 구축을 선택하세요."); 

		return false;

		}

}

 </script>

<dom-module id="social-step-form">
<template>
    <iron-ajax id="getStepList0"  method="get" headers='{"X-Requested-With": "XMLHttpRequest"}'
		       url="/api/self/findStep2"
	 	       on-request="_startLoader"
	  	       on-response="_stopLoader"
		       last-response="{{_data}}">
	</iron-ajax>
   <body>
	       <form id="stepForm1" is="iron-form"
              content-type="application/json"
              method="post"
              action="/api/self/stepup1"
              on-iron-form-presubmit="_parseDataBeforeSubmit"
              on-iron-form-response="_submitResponse"
              class="form-horizontal">
       
   			<header class="header">
		      <div class="inner">
		  	    <h1><strong class="txt_blue">SE 자가진단 KIT</strong> </h1>
		        <p><img src="/src/images/ico_social.gif" alt="한국사회적기업지흥원" /></p>
		      </div>
			</header> 	   	
	<!-- contents -->
	<section class="contents">
    <!-- tab
      .is-current : 현재 작성중인 페이지
      .is-complete :완료된 페이지
    -->
    <ol class="tab">
      <li><a href="/app/social-form/step/{{_data.KPI_SEQ}}" style="text-decoration:none" onclick="document.getElementById('stepback1').submit();">회사 기본정보</a></li>
      <li><a href="#" style="text-decoration:none" class="is-current">사회적<br />미션의 관리</a></li>
      <li><a href="#" style="text-decoration:none">주사업활동의<br />사회적 가치</a></li>
      <li><a href="#" style="text-decoration:none">사회적경제<br />생태계 구축노력</a></li>
      <li><a href="#" style="text-decoration:none">이윤의<br />사회목적 재투자</a></li>
      <li><a href="#" style="text-decoration:none">운영의<br />민주성</a></li>
      <li><a href="#" style="text-decoration:none">근로자<br />지향성</a></li>
      <li><a href="#" style="text-decoration:none">고용창출 및<br />재정성과</a></li>
      <li><a href="#" style="text-decoration:none">기업활동에서의<br />혁신성</a></li>
    </ol>
    <!-- // tab -->

		 <input id="KPI_SEQ" type="hidden" name="KPI_SEQ"  value="{{_data.KPI_SEQ}}"></input>
	  <div class="inner motion">
      <h2 class="tit_page">사회적 가치 추구 여부</h2>

      <div class="box_question">
        <p class="question">귀사는 현재 기업의 사회적 목적을 반영하는 미션 선언문 또는 경영원칙 등을 명시적으로 표현한 문서를 가지고 계십니까?</p>
        <ul class="horizon mgt25">
					<paper-radio-group selected="{{_data.KPI_FORM1}}" attr-for-selected="value">
						<paper-radio-button name="KPI_FORM1" value="5" >있음</paper-radio-button>
						<paper-radio-button name="KPI_FORM1" value="1" >없음</paper-radio-button>
					</paper-radio-group>
        </ul>
      </div>

      <div class="box_tip">
        <strong class="tit">작성 TIP</strong>
        <strong class="txt_orange">명시적 문서</strong>란 사회적 가치가 내포된 미션 및 비전이 명시적으로 표현된 문서를 뜻하며, 정관·규약, 비전선언문, 미션선언문 등이 해당합니다.
      </div>
      <!-- //box_tip -->

      <h2 class="tit_page top_line">사회적 성과 평가체제 구축</h2>

      <div class="box_question">
        <p class="question">귀사는 현재 기업에서 창출하는 사회적 성과를 체계적으로 관리하기 위해 다음 중 몇 가지 사항을 갖추고 있습니까?</p>
        <p class="txt_choice">①측정기준,  ②담당인력,  ③평가보고서,  ④평가위원회,  ⑤평가결과의 사내공유</p>
        <ul class="horizon mgt25">
        			<paper-radio-group selected="{{_data.KPI_FORM2}}" attr-for-selected="value">
						<paper-radio-button name="KPI_FORM2" value="5" >4개 이상</paper-radio-button>
						<paper-radio-button name="KPI_FORM2" value="4" >3개</paper-radio-button>
						<paper-radio-button name="KPI_FORM2" value="3" >2개</paper-radio-button>
						<paper-radio-button name="KPI_FORM2" value="2" >1개</paper-radio-button>
						<paper-radio-button name="KPI_FORM2" value="1" >없음</paper-radio-button>
					</paper-radio-group>
        </ul>
      </div>

      <div class="box_tip">
        <strong class="tit">작성 TIP</strong>
        <strong class="txt_orange">사회적 성과 평가체계란</strong> 사회적기업 운영 성과(사회적 가치구현, 매출, 일자리 창출 등)를 평가할 수 있는 체계적인 관리 체계를 의미합니다.
      </div>
      
 <div class="btnArea mgt60">
  <a href="/app/social-form/step/{{_data.KPI_SEQ}}" name="social-step" class="btn btn_prev" onclick="javascript:fmBack1();">이전</a>
  <a href="/app/social-step1/form/{{_data.KPI_SEQ}}"   name="social-step1" class="btn btn_next" onclick="return fmCheck1();">다음</a>
     </div>	
    </div>
    <!-- //inner end -->
	</section>     	
</form>
 </body> 
               
    		    <form id="stepback1" is="iron-form"
              content-type="application/json"
              method="post"
              action="/api/self/stepback1"
              on-iron-form-presubmit="_parseDataBeforeSubmit"
              on-iron-form-response="_submitResponse"
              class="form-horizontal">
               <input id="KPI_SEQ" type="hidden" name="KPI_SEQ"  value="{{_data.KPI_SEQ}}"></input>
               <input id="KPI_STEPS" type="hidden" name="KPI_STEPS"  value="0"></input>
              </form>
              <form id="stepforward" name="stepforward" enctype="multipart/form-data" action="/app/social-step1/form/{{_data.KPI_SEQ}}"> </form>
            
</template>

<script>
Polymer({
	is: 'social-step-form',

	behaviors: [Lunch.LoaderBehavior],

	properties: {
		

	
	},

	  _submitForm: function(e) {
	        if (this.$.stepForm1.validate()) {
	            this.$.stepForm1.submit();
	        }
	    },
	    _submitResponse: function(e) {
	        if (e.detail.response == 1) {
	            this.$.alert1.innerHTML = '수정되었습니다';
	            this.$.alert1.classList.remove('hide');
	            this.$.alert1.classList.add('alert-success');
	            this.$.alert2.innerHTML = '수정되었습니다';
	            this.$.alert2.classList.remove('hide');
	            this.$.alert2.classList.add('alert-success');
	        }else {
	            this.$.alert1.innerHTML = '오류가 발생하였습니다';
	            this.$.alert1.classList.remove('hide');
	            this.$.alert1.classList.add('alert-danger');
	            this.$.alert2.innerHTML = '오류가 발생하였습니다';
	            this.$.alert2.classList.remove('hide');
	            this.$.alert2.classList.add('alert-danger');
	        }
	        this.async(function() {
	            this.$.alert1.classList.add('hide');
	            this.$.alert2.classList.add('hide');
	        }, 2000);
	    },
	    
	    attached: function() {
	    	this.fire("page-activated");
	    },
	    
	    query: function() {
	    	this.$.getStepList0.params = {sequence: this.sequence};
	    	this.$.getStepList0.generateRequest();
	    	
	    }
	    

	    
});


	
  var $target = $(".motion");
  var $tab = $(".is-current");
  $tab.animate({"top":100});
  TweenMax.from($target,0.5,{y:50, autoAlpha:0, ease:Power1.easeInOut});
  TweenMax.fromTo($tab,0.8,{x:-5},{x:0, ease:Power1.easeInOut, repeat:5});
  
  


</script>
</dom-module>
</html>